<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

</body>
</html>
<script type="text/javascript">
    /*
    //replace:把原有字符替换成新的字符
    var str="zack2012zack2020"
    str=str.replace("zack","hellozack")
    console.log(str)
    var str="zack2012zack2020"
    str = str.replace(/zack/g,"hellozack")
    console.log(str)
    //replace第一项的值是一个正则
    //首先我们和exec捕获一样，把所有和我们正则匹配的都捕获到
    //然后把捕获的内容替换为我们要替换的新内容
    //  /zack/g 按照这个正则把str中所有可以匹配的都捕获到，然后统一都替换成我们的"hellozack"
    str = str.replace(/zack/g, function(){
        console.log(arguments)
        //第一次 ["zack", 5, "hellozack2012hellozack2020", callee: ƒ, Symbol(Symbol.iterator): ƒ]
        //第二次 ["zack", 18, "hellozack2012hellozack2020", callee: ƒ, Symbol(Symbol.iterator): ƒ]
        return "hellozack"
    })
    */
    //那时我们有梦, 关于文学, 关于爱情, 关于穿越世界的旅行。 如今我们深夜饮酒, 杯子碰到一起, 都是梦破碎的声音

    //第二个参数换成一个函数
    //1）匿名函数执行多少次，取决于正则能在字符串中捕获多少次
    //正则捕获两次，所以我们的匿名函数也执行了两次
    //2) 每一次执行匿名函数，里面传递的参数值arguments和我们自己通过exec捕获到的结果是非常类似的
    //(即时正则有分组，我们同样可以通过arguments获取到分组捕获的内容)
    //3) return : 你返回得结果是啥，就相当于把当前这一次大正则捕获得内容替换成你返回得内容
    /*
    var str = "zack2015zack2016"
    str = str.replace(/\d+/g, function(){
        console.log(arguments[0])  //每一次执行匿名函数把我们大正则捕获的内容获取到
        return 1  //返回的内容把每一次大正则匹配得内容都替换了
    })
    console.log(str)
    */
    
    var str = "zack2015zack2016"
    var reg = /(\d+)/g
    str = str.replace(reg, function(){
        console.log(arguments[1])  //获取每一次执行匿名函数正则捕获的第一个分组的内容
        //console.log(RegExp.$1)  获取第一个分组捕获的内容
        //返回的内容把每一次大正则匹配得内容都替换了
        return 1
    })
    console.log(str)
    
</script>